/*! http://mths.be/placeholder v2.0.7 by @mathias */
;(function(f,h,$){var a='placeholder' in h.createElement('input'),d='placeholder' in h.createElement('textarea'),i=$.fn,c=$.valHooks,k,j;if(a&&d){j=i.placeholder=function(){return this};j.input=j.textarea=true}else{j=i.placeholder=function(){var l=this;l.filter((a?'textarea':':input')+'[placeholder]').not('.placeholder').bind({'focus.placeholder':b,'blur.placeholder':e}).data('placeholder-enabled',true).trigger('blur.placeholder');return l};j.input=a;j.textarea=d;k={get:function(m){var l=$(m);return l.data('placeholder-enabled')&&l.hasClass('placeholder')?'':m.value},set:function(m,n){var l=$(m);if(!l.data('placeholder-enabled')){return m.value=n}if(n==''){m.value=n;if(m!=h.activeElement){e.call(m)}}else{if(l.hasClass('placeholder')){b.call(m,true,n)||(m.value=n)}else{m.value=n}}return l}};a||(c.input=k);d||(c.textarea=k);$(function(){$(h).delegate('form','submit.placeholder',function(){var l=$('.placeholder',this).each(b);setTimeout(function(){l.each(e)},10)})});$(f).bind('beforeunload.placeholder',function(){$('.placeholder').each(function(){this.value=''})})}function g(m){var l={},n=/^jQuery\d+$/;$.each(m.attributes,function(p,o){if(o.specified&&!n.test(o.name)){l[o.name]=o.value}});return l}function b(m,n){var l=this,o=$(l);if(l.value==o.attr('placeholder')&&o.hasClass('placeholder')){if(o.data('placeholder-password')){o=o.hide().next().show().attr('id',o.removeAttr('id').data('placeholder-id'));if(m===true){return o[0].value=n}o.focus()}else{l.value='';o.removeClass('placeholder');l==h.activeElement&&l.select()}}}function e(){var q,l=this,p=$(l),m=p,o=this.id;if(l.value==''){if(l.type=='password'){if(!p.data('placeholder-textinput')){try{q=p.clone().attr({type:'text'})}catch(n){q=$('<input>').attr($.extend(g(this),{type:'text'}))}q.removeAttr('name').data({'placeholder-password':true,'placeholder-id':o}).bind('focus.placeholder',b);p.data({'placeholder-textinput':q,'placeholder-id':o}).before(q)}p=p.removeAttr('id').hide().prev().attr('id',o).show()}p.addClass('placeholder');p[0].value=p.attr('placeholder')}else{p.removeClass('placeholder')}}}(this,document,jQuery));

// place any jQuery/helper plugins in here, instead of separate, slower script files.

/*! jQuery Validation Plugin - v1.11.1 - 3/22/2013\n* https://github.com/jzaefferer/jquery-validation
* Copyright (c) 2013 JÃ¶rn Zaefferer; Licensed MIT */
(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e=e&&i.element(this)}),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s=this[0];if(e){var r=t.data(s.form,"validator").settings,n=r.rules,a=t.validator.staticRules(s);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,n[s.name]=a,i.messages&&(r.messages[s.name]=t.extend(r.messages[s.name],i.messages));break;case"remove":if(!i)return delete n[s.name],a;var u={};return t.each(i.split(/\s/),function(t,e){u[e]=a[e],delete a[e]}),u}}var o=t.validator.normalizeRules(t.extend({},t.validator.classRules(s),t.validator.attributeRules(s),t.validator.dataRules(s),t.validator.staticRules(s)),s);if(o.required){var l=o.required;delete o.required,o=t.extend({required:l},o)}return o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,s){"string"==typeof s&&(s=s.split(/\s/)),t.each(s,function(t,s){i[s]=e})});var s=this.settings.rules;t.each(s,function(e,i){s[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e)!==!1;return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i=t(e).attr("type"),s=t(e).val();return"radio"===i||"checkbox"===i?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof s?s.replace(/\r/g,""):s},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s=t(e).rules(),r=!1,n=this.elementValue(e);for(var a in s){var u={method:a,parameters:s[a]};try{if(i=t.validator.methods[a].call(this,n,e,u.parameters),"dependency-mismatch"===i){r=!0;continue}if(r=!1,"pending"===i)return this.toHide=this.toHide.not(this.errorsFor(e)),void 0;if(!i)return this.formatAndAdd(e,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+u.method+"' method.",o),o}}return r?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg-"+i.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+i.toLowerCase())},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s=this.errorsFor(e);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},s=t(e),r=s[0].getAttribute("type");for(var n in t.validator.methods){var a;"required"===n?(a=s.get(0).getAttribute(n),""===a&&(a=!0),a=!!a):a=s.attr(n),/min|max/.test(n)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?i[n]=a:r===n&&"range"!==r&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var i,s,r={},n=t(e);for(i in t.validator.methods)s=n.data("rule-"+i.toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return delete e[s],void 0;if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0!==r.param?r.param:!0:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],3>i.length&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(""+new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,s=0,r=!1;t=t.replace(/\D/g,"");for(var n=t.length-1;n>=0;n--){var a=t.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r}return 0===i%10},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=r},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s[0]&&s[1]>=r},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&i[1]>=t},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===e)return r.valid;r.old=e;var n=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){n.settings.messages[i.name].remote=r.originalMessage;var a=s===!0||"true"===s;if(a){var u=n.formSubmitted;n.prepareElement(i),n.formSubmitted=u,n.successList.push(i),delete n.invalid[i.name],n.showErrors()}else{var o={},l=s||n.defaultMessage(i,"remote");o[i.name]=r.message=t.isFunction(l)?l(e):l,n.invalid[i.name]=!0,n.showErrors(o)}r.valid=a,n.stopRequest(i,a)}},s)),"pending"}}}),t.format=t.validator.format})(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,s){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=s)});else{var i=t.ajax;t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(e[n]&&e[n].abort(),e[n]=i.apply(this,arguments),e[n]):i.apply(this,arguments)}}}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var r=t(i.target);return r.is(e)?s.apply(r,arguments):void 0})}})}(jQuery);

!function(t){function e(t,e,a,n){for(var r="",s=0,i=a.length;i>s;s++)r+=n(a[s],e);return"<tr>"+r+"</tr>"}function a(t,e){var a=t.attributeWriter(e),n="<td";return(t.hidden||t.textAlign)&&(n+=' style="',t.hidden&&(n+="display: none;"),t.textAlign&&(n+="text-align: "+t.textAlign+";"),n+='"'),n+">"+a+"</td>"}function n(t){return t[this.id]}function r(e){return t(e).html()}function s(e,a){this.update=function(){var n="",r=a.table.columns,s=a.writers._rowWriter,i=a.writers._cellWriter;e.$element.trigger("dynatable:beforeUpdate",n);for(var o=0,d=a.dataset.records.length;d>o;o++){var u=a.dataset.records[o],l=s(o,u,r,i);n+=l}if(a.features.recordCount&&t("#dynatable-record-count-"+e.element.id).replaceWith(e.recordsCount.create()),a.features.paginate&&(t("#dynatable-pagination-links-"+e.element.id).replaceWith(e.paginationLinks.create()),a.features.perPageSelect&&t("#dynatable-per-page-"+e.element.id).val(parseInt(a.dataset.perPage))),a.features.sort&&r){e.sortsHeaders.removeAllArrows();for(var o=0,d=r.length;d>o;o++){var c=r[o],h=x.allMatch(a.dataset.sorts,c.sorts,function(t,e){return e in t}),p=a.dataset.sorts[c.sorts[0]];h&&e.$element.find('[data-dynatable-column="'+c.id+'"]').find(".dynatable-sort-header").each(function(){1==p?e.sortsHeaders.appendArrowUp(t(this)):e.sortsHeaders.appendArrowDown(t(this))})}}if(a.inputs.queries||a.features.search){var f=a.inputs.queries||t();a.features.search&&(f=f.add("#dynatable-query-search-"+e.element.id)),f.each(function(){var e=t(this),n=a.dataset.queries[e.data("dynatable-query")];e.val(n||"")})}e.$element.find(a.table.bodyRowSelector).remove(),e.$element.append(n),e.$element.trigger("dynatable:afterUpdate",n)}}function i(e,a){var n=this;this.initOnLoad=function(){return e.$element.is("table")},this.init=function(){a.table.columns=[],this.getFromTable()},this.getFromTable=function(){var r=e.$element.find(a.table.headRowSelector).children("th,td");return r.length?void r.each(function(e){n.add(t(this),e,!0)}):t.error("Couldn't find any columns headers in '"+a.table.headRowSelector+" th,td'. If your header row is different, specify the selector in the table: headRowSelector option.")},this.add=function(n,r,s,i){var o=a.table.columns,d=n.text(),u=n.data("dynatable-column")||x.normalizeText(d,a.table.defaultColumnIdStyle),l=n.data("dynatable-sorts"),c=l?t.map(l.split(","),function(e){return t.trim(e)}):[u];if(u||(this.generate(n),u=n.data("dynatable-column")),o.splice(r,0,{index:r,label:d,id:u,attributeWriter:a.writers[u]||a.writers._attributeWriter,attributeReader:a.readers[u]||a.readers._attributeReader,sorts:c,hidden:"none"===n.css("display"),textAlign:n.css("text-align")}),n.attr("data-dynatable-column",u).addClass("dynatable-head"),a.table.headRowClass&&n.addClass(a.table.headRowClass),!s){var h=r+1,p=e.$element.find(a.table.headRowSelector).children("th:nth-child("+h+"),td:nth-child("+h+")").first(),f=o.slice(r+1,o.length);if(p.length?p.before(n):e.$element.find(a.table.headRowSelector).append(n),e.sortsHeaders.attachOne(n.get()),f.length)for(var g=0,m=f.length;m>g;g++)f[g].index+=1;i||e.dom.update()}return w},this.remove=function(t){{var n=a.table.columns;n.length}if("number"==typeof t){var r=n[t];this.removeFromTable(r.id),this.removeFromArray(t)}else for(var s=n.length-1;s>=0;s--){var r=n[s];r.id===t&&(this.removeFromTable(t),this.removeFromArray(s))}e.dom.update()},this.removeFromTable=function(t){e.$element.find(a.table.headRowSelector).children('[data-dynatable-column="'+t+'"]').first().remove()},this.removeFromArray=function(t){var e,n=a.table.columns;n.splice(t,1),e=n.slice(t,n.length);for(var r=0,s=e.length;s>r;r++)e[r].index-=1},this.generate=function(e){var a=void 0===e?t("<th></th>"):e;return this.attachGeneratedAttributes(a)},this.attachGeneratedAttributes=function(t){var n=e.$element.find(a.table.headRowSelector).children("th[data-dynatable-generated]").length;return t.attr("data-dynatable-column","dynatable-generated-"+n).attr("data-dynatable-no-sort","true").attr("data-dynatable-generated",n)}}function o(e,a){this.initOnLoad=function(){return!a.dataset.ajax},this.init=function(){null===a.dataset.records&&(a.dataset.records=this.getFromTable(),a.dataset.queryRecordCount||(a.dataset.queryRecordCount=this.count()),a.dataset.totalRecordCount||(a.dataset.totalRecordCount=a.dataset.queryRecordCount)),a.dataset.originalRecords=t.extend(!0,[],a.dataset.records)},this.updateFromJson=function(t){var e;if("_root"===a.params.records?e=t:a.params.records in t&&(e=t[a.params.records]),a.params.record)for(var n=e.length-1,r=0;n>r;r++)e[r]=e[r][a.params.record];a.params.queryRecordCount in t&&(a.dataset.queryRecordCount=t[a.params.queryRecordCount]),a.params.totalRecordCount in t&&(a.dataset.totalRecordCount=t[a.params.totalRecordCount]),a.dataset.records=e},this.sort=function(){var n=[].sort,r=a.dataset.sorts,s=a.dataset.sortsKeys,i=a.dataset.sortTypes,o=function(a,n){var o;if(t.isEmptyObject(r))o=e.sorts.functions.originalPlacement(a,n);else for(var d=0,u=s.length;u>d;d++){var l=s[d],c=r[l],h=i[l]||e.sorts.guessType(a,n,l);if(o=e.sorts.functions[h](a,n,l,c),0!==o)break}return o};return n.call(a.dataset.records,o)},this.paginate=function(){var t=this.pageBounds(),e=t[0],n=t[1];a.dataset.records=a.dataset.records.slice(e,n)},this.resetOriginal=function(){a.dataset.records=a.dataset.originalRecords||[]},this.pageBounds=function(){var t=a.dataset.page||1,e=(t-1)*a.dataset.perPage,n=Math.min(e+a.dataset.perPage,a.dataset.queryRecordCount);return[e,n]},this.getFromTable=function(){var n=[],r=a.table.columns,s=e.$element.find(a.table.bodyRowSelector);return s.each(function(s){var i={};i["dynatable-original-index"]=s,t(this).find("th,td").each(function(a){void 0===r[a]&&e.domColumns.add(e.domColumns.generate(),r.length,!1,!0);var n=r[a].attributeReader(this,i),s=r[a].id;"string"==typeof n&&n.match(/\s*\<.+\>/)&&(i["dynatable-sortable-text"]||(i["dynatable-sortable-text"]={}),i["dynatable-sortable-text"][s]=t.trim(t("<div></div>").html(n).text())),i[s]=n}),"function"==typeof a.readers._rowReader&&a.readers._rowReader(s,this,i),n.push(i)}),n},this.count=function(){return a.dataset.records.length}}function d(e,a){this.initOnLoad=function(){return a.features.recordCount},this.init=function(){this.attach()},this.create=function(){var n=e.records.count(),r=a.dataset.queryRecordCount,s=a.dataset.totalRecordCount,i=a.inputs.recordCountText,o=a.params.records;if(r>n&&a.features.paginate){var d=e.records.pageBounds();i+="<span class='dynatable-record-bounds'>"+(d[0]+1)+" to "+d[1]+"</span> of "}else n===r&&a.features.paginate&&(i+=n+" of ");return i+=r+" "+o,s>r&&(i+=" (filtered from "+s+" total records)"),t("<span></span>",{id:"dynatable-record-count-"+e.element.id,"class":"dynatable-record-count",html:i})},this.attach=function(){var n=a.inputs.recordCountTarget?t(a.inputs.recordCountTarget):e.$element;n[a.inputs.recordCountPlacement](this.create())}}function u(e,a){this.init=function(){this.attach()},this.create=function(){var n=t("<div></div>",{html:"<span>"+a.inputs.processingText+"</span>",id:"dynatable-processing-"+e.element.id,"class":"dynatable-processing",style:"position: absolute; display: none;"});return n},this.position=function(){var a=t("#dynatable-processing-"+e.element.id),n=a.children("span"),r=n.outerHeight(),s=n.outerWidth(),i=e.$element,o=i.offset(),d=i.outerHeight(),u=i.outerWidth();return a.offset({left:o.left,top:o.top}).width(u).height(d),n.offset({left:o.left+(u-s)/2,top:o.top+(d-r)/2}),a},this.attach=function(){e.$element.before(this.create())},this.show=function(){t("#dynatable-processing-"+e.element.id).show(),this.position()},this.hide=function(){t("#dynatable-processing-"+e.element.id).hide()}}function l(e,a){this.initOnLoad=function(){return a.features.pushState&&history.pushState},this.init=function(){window.onpopstate=function(t){t.state&&t.state.dynatable&&e.state.pop(t)}},this.push=function(n){var r,s,i,o,d,u,l=window.location.search,c=!(window.history.state&&window.history.state.dynatable),h=c?"replaceState":"pushState";l&&/^\?/.test(l)&&(l=l.substring(1)),t.extend(r,n),i=x.refreshQueryString(l,n,a),i&&(i="?"+i),o=window.location.hash,s=window.location.pathname,e.$element.trigger("dynatable:push",n),u={dynatable:{dataset:a.dataset}},c||(u.dynatable.scrollTop=t(window).scrollTop()),d=JSON.stringify(u),u.dynatable.dataset.perPageOptions=t.makeArray(u.dynatable.dataset.perPageOptions);try{window.history[h](u,"Dynatable state",s+i+o)}catch(p){u.dynatable.dataset.records=null,window.history[h](u,"Dynatable state",s+i+o)}},this.pop=function(n){var r=n.state.dynatable;a.dataset=r.dataset,r.scrollTop&&t(window).scrollTop(r.scrollTop),r.dataset.records?e.dom.update():e.process(!0)}}function c(e,a){this.initOnLoad=function(){return a.features.sort},this.init=function(){var t=window.location.search.match(new RegExp(a.params.sorts+"[^&=]*=[^&]*","g"));a.dataset.sorts=t?x.deserialize(t)[a.params.sorts]:{},a.dataset.sortsKeys=t?x.keysFromObject(a.dataset.sorts):[]},this.add=function(e,n){var r=a.dataset.sortsKeys,s=t.inArray(e,r);return a.dataset.sorts[e]=n,-1===s&&r.push(e),w},this.remove=function(e){var n=a.dataset.sortsKeys,r=t.inArray(e,n);return delete a.dataset.sorts[e],-1!==r&&n.splice(r,1),w},this.clear=function(){a.dataset.sorts={},a.dataset.sortsKeys.length=0},this.guessType=function(t,e,a){var n={string:"string",number:"number","boolean":"number",object:"number"},r=t[a]?typeof t[a]:typeof e[a],s=n[r]||"number";return s},this.functions={number:function(t,e,a,n){return t[a]===e[a]?0:n>0?t[a]-e[a]:e[a]-t[a]},string:function(t,e,a,n){var r,s=t["dynatable-sortable-text"]&&t["dynatable-sortable-text"][a]?t["dynatable-sortable-text"][a]:t[a],i=e["dynatable-sortable-text"]&&e["dynatable-sortable-text"][a]?e["dynatable-sortable-text"][a]:e[a];return s=s.toLowerCase(),i=i.toLowerCase(),r=s===i?0:n>0?s>i:i>s,r===!1?-1:r-0},originalPlacement:function(t,e){return t["dynatable-original-index"]-e["dynatable-original-index"]}}}function h(e,a){var n=this;this.initOnLoad=function(){return a.features.sort},this.init=function(){this.attach()},this.create=function(r){var s=t(r),i=t("<a></a>",{"class":"dynatable-sort-header",href:"#",html:s.html()}),o=s.data("dynatable-column"),d=x.findObjectInArray(a.table.columns,{id:o});return i.bind("click",function(t){n.toggleSort(t,i,d),e.process(),t.preventDefault()}),this.sortedByColumn(i,d)&&(1==this.sortedByColumnValue(d)?this.appendArrowUp(i):this.appendArrowDown(i)),i},this.removeAll=function(){e.$element.find(a.table.headRowSelector).children("th,td").each(function(){n.removeAllArrows(),n.removeOne(this)})},this.removeOne=function(e){var a=t(e),n=a.find(".dynatable-sort-header");if(n.length){var r=n.html();n.remove(),a.html(a.html()+r)}},this.attach=function(){e.$element.find(a.table.headRowSelector).children("th,td").each(function(){n.attachOne(this)})},this.attachOne=function(e){var a=t(e);a.data("dynatable-no-sort")||a.html(this.create(e))},this.appendArrowUp=function(t){this.removeArrow(t),t.append("<span class='dynatable-arrow'> &#9650;</span>")},this.appendArrowDown=function(t){this.removeArrow(t),t.append("<span class='dynatable-arrow'> &#9660;</span>")},this.removeArrow=function(t){t.find(".dynatable-arrow").remove()},this.removeAllArrows=function(){e.$element.find(".dynatable-arrow").remove()},this.toggleSort=function(t,n,r){var s=this.sortedByColumn(n,r),i=this.sortedByColumnValue(r);if(a.inputs.multisort&&x.anyMatch(t,a.inputs.multisort,function(e,a){return t[a]})||(this.removeAllArrows(),e.sorts.clear()),s)if(1==i){for(var o=0,d=r.sorts.length;d>o;o++)e.sorts.add(r.sorts[o],-1);this.appendArrowDown(n)}else{for(var o=0,d=r.sorts.length;d>o;o++)e.sorts.remove(r.sorts[o]);this.removeArrow(n)}else{for(var o=0,d=r.sorts.length;d>o;o++)e.sorts.add(r.sorts[o],1);this.appendArrowUp(n)}},this.sortedByColumn=function(t,e){return x.allMatch(a.dataset.sorts,e.sorts,function(t,e){return e in t})},this.sortedByColumnValue=function(t){return a.dataset.sorts[t.sorts[0]]}}function p(e,a){var n=this;this.initOnLoad=function(){return a.inputs.queries||a.features.search},this.init=function(){var t=window.location.search.match(new RegExp(a.params.queries+"[^&=]*=[^&]*","g"));a.dataset.queries=t?x.deserialize(t)[a.params.queries]:{},""===a.dataset.queries&&(a.dataset.queries={}),a.inputs.queries&&this.setupInputs()},this.add=function(t,e){return a.features.paginate&&(a.dataset.page=1),a.dataset.queries[t]=e,w},this.remove=function(t){return delete a.dataset.queries[t],w},this.run=function(){for(query in a.dataset.queries)if(a.dataset.queries.hasOwnProperty(query)){var r=a.dataset.queries[query];if(void 0===n.functions[query]){var s=x.findObjectInArray(a.table.columns,{id:query});if(!s){t.error("Query named '"+query+"' called, but not defined in queries.functions");continue}n.functions[query]=function(t,e){return t[query]==e}}a.dataset.records=t.map(a.dataset.records,function(t){return n.functions[query](t,r)?t:null})}a.dataset.queryRecordCount=e.records.count()},this.runSearch=function(n){var r=t.extend({},a.dataset.queries);n?this.add("search",n):this.remove("search"),x.objectsEqual(a.dataset.queries,r)||e.process()},this.setupInputs=function(){a.inputs.queries.each(function(){var r=t(this),s=r.data("dynatable-query-event")||a.inputs.queryEvent,i=r.data("dynatable-query")||r.attr("name")||this.id,o=function(r){var s=t(this).val();return""===s&&(s=void 0),s===a.dataset.queries[i]?!1:(s?n.add(i,s):n.remove(i),e.process(),void r.preventDefault())};r.attr("data-dynatable-query",i).bind(s,o).bind("keypress",function(t){13==t.which&&o.call(this,t)}),a.dataset.queries[i]&&r.val(decodeURIComponent(a.dataset.queries[i]))})},this.functions={search:function(t,e){var a=!1;for(attr in t)if(t.hasOwnProperty(attr)){var n=t[attr];if("string"==typeof n&&-1!==n.toLowerCase().indexOf(e.toLowerCase())){a=!0;break}}else;return a}}}function f(e,a){this.initOnLoad=function(){return a.features.search},this.init=function(){this.attach()},this.create=function(){var n=t("<input />",{type:"search",id:"dynatable-query-search-"+e.element.id,"data-dynatable-query":"search",value:a.dataset.queries.search}),r=t("<span></span>",{id:"dynatable-search-"+e.element.id,"class":"dynatable-search",text:"Search: "}).append(n);return n.bind(a.inputs.queryEvent,function(){e.queries.runSearch(t(this).val())}).bind("keypress",function(a){13==a.which&&(e.queries.runSearch(t(this).val()),a.preventDefault())}),r},this.attach=function(){var n=a.inputs.searchTarget?t(a.inputs.searchTarget):e.$element;n[a.inputs.searchPlacement](this.create())}}function g(t,e){this.initOnLoad=function(){return e.features.paginate},this.init=function(){var t=window.location.search.match(new RegExp(e.params.page+"=([^&]*)"));this.set(t&&e.features.pushState?t[1]:1)},this.set=function(t){e.dataset.page=parseInt(t,10)}}function m(e,a){var n=this;this.initOnLoad=function(){return a.features.paginate},this.init=function(){var t=window.location.search.match(new RegExp(a.params.perPage+"=([^&]*)"));t&&a.features.pushState?this.set(t[1],!0):this.set(a.dataset.perPageDefault,!0),a.features.perPageSelect&&this.attach()},this.create=function(){for(var r=t("<select>",{id:"dynatable-per-page-"+e.element.id,"class":"dynatable-per-page-select"}),s=0,i=a.dataset.perPageOptions.length;i>s;s++){var o=a.dataset.perPageOptions[s],d=a.dataset.perPage==o?'selected="selected"':"";r.append('<option value="'+o+'" '+d+">"+o+"</option>")}return r.bind("change",function(){n.set(t(this).val()),e.process()}),t("<span />",{"class":"dynatable-per-page"}).append("<span class='dynatable-per-page-label'>"+a.inputs.perPageText+"</span>").append(r)},this.attach=function(){var n=a.inputs.perPageTarget?t(a.inputs.perPageTarget):e.$element;n[a.inputs.perPagePlacement](this.create())},this.set=function(t,n){n||e.paginationPage.set(1),a.dataset.perPage=parseInt(t)}}function y(e,a){this.initOnLoad=function(){return a.features.paginate},this.init=function(){this.attach()},this.create=function(){var n='<ul id="dynatable-pagination-links-'+e.element.id+'" class="'+a.inputs.paginationClass+'">',r=a.inputs.paginationLinkClass,s=a.inputs.paginationActiveClass,i=a.inputs.paginationDisabledClass,o=Math.ceil(a.dataset.queryRecordCount/a.dataset.perPage),d=a.dataset.page,u=[a.inputs.paginationGap[0],a.dataset.page-a.inputs.paginationGap[1],a.dataset.page+a.inputs.paginationGap[2],o+1-a.inputs.paginationGap[3]];n+="<li><span>Pages: </span></li>";for(var l=1;o>=l;l++)if(!(l>u[0]&&l<u[1]||l>u[2]&&l<u[3])){var c,h,p=e.paginationLinks.buildLink(l,l,r,d==l,s);if(c=t.inArray(l,u),h=u[c+1],c>0&&1!==l&&h&&h>l+1){var f='<li><span class="dynatable-page-break">&hellip;</span></li>';p=2>c?f+p:p+f}if(a.inputs.paginationPrev&&1===l){var g=e.paginationLinks.buildLink(d-1,a.inputs.paginationPrev,r+" "+a.inputs.paginationPrevClass,1===d,i);p=g+p}if(a.inputs.paginationNext&&l===o){var m=e.paginationLinks.buildLink(d+1,a.inputs.paginationNext,r+" "+a.inputs.paginationNextClass,d===o,i);p+=m}n+=p}n+="</ul>";var y="#dynatable-pagination-links-"+e.element.id+" a."+r+":not(."+s+",."+i+")";return t(document).undelegate(y,"click.dynatable"),t(document).delegate(y,"click.dynatable",function(n){$this=t(this),$this.closest(a.inputs.paginationClass).find("."+s).removeClass(s),$this.addClass(s),e.paginationPage.set($this.data("dynatable-page")),e.process(),n.preventDefault()}),n},this.buildLink=function(t,e,a,n,r){var s="<a data-dynatable-page="+t+' class="'+a,i="<li";return n&&(s+=" "+r,i+=' class="'+r+'"'),s+='">'+e+"</a>",i+=">"+s+"</li>"},this.attach=function(){var n=a.inputs.paginationLinkTarget?t(a.inputs.paginationLinkTarget):e.$element;n[a.inputs.paginationLinkPlacement](e.paginationLinks.create())}}var b,v,w,C,x,q,P,e,a,n,r,R={dom:s,domColumns:i,records:o,recordsCount:d,processingIndicator:u,state:l,sorts:c,sortsHeaders:h,queries:p,inputsSearch:f,paginationPage:g,paginationPerPage:m,paginationLinks:y};b={features:{paginate:!0,sort:!0,pushState:!0,search:!0,recordCount:!0,perPageSelect:!0},table:{defaultColumnIdStyle:"camelCase",columns:null,headRowSelector:"thead tr",bodyRowSelector:"tbody tr",headRowClass:null},inputs:{queries:null,sorts:null,multisort:["ctrlKey","shiftKey","metaKey"],page:null,queryEvent:"blur change",recordCountTarget:null,recordCountPlacement:"after",paginationLinkTarget:null,paginationLinkPlacement:"after",paginationClass:"dynatable-pagination-links",paginationLinkClass:"dynatable-page-link",paginationPrevClass:"dynatable-page-prev",paginationNextClass:"dynatable-page-next",paginationActiveClass:"dynatable-active-page",paginationDisabledClass:"dynatable-disabled-page",paginationPrev:"Previous",paginationNext:"Next",paginationGap:[1,2,2,1],searchTarget:null,searchPlacement:"before",perPageTarget:null,perPagePlacement:"before",perPageText:"Show: ",recordCountText:"Showing ",processingText:"Processing..."},dataset:{ajax:!1,ajaxUrl:null,ajaxCache:null,ajaxOnLoad:!1,ajaxMethod:"GET",ajaxDataType:"json",totalRecordCount:null,queries:{},queryRecordCount:null,page:null,perPageDefault:10,perPageOptions:[10,20,50,100],sorts:{},sortsKeys:null,sortTypes:{},records:null},writers:{_rowWriter:e,_cellWriter:a,_attributeWriter:n},readers:{_rowReader:null,_attributeReader:r},params:{dynatable:"dynatable",queries:"queries",sorts:"sorts",page:"page",perPage:"perPage",offset:"offset",records:"records",record:null,queryRecordCount:"queryRecordCount",totalRecordCount:"totalRecordCount"}},w={init:function(e,a){return this.settings=v(a),this.element=e,this.$element=t(e),q.call(this),this},process:function(t){P.call(this,t)}},v=function(e){var a=t.extend(!0,{},b,e);return e&&(e.inputs&&(e.inputs.multisort&&(a.inputs.multisort=e.inputs.multisort),e.inputs.paginationGap&&(a.inputs.paginationGap=e.inputs.paginationGap)),e.dataset&&e.dataset.perPageOptions&&(a.dataset.perPageOptions=e.dataset.perPageOptions)),a},q=function(){this.$element.trigger("dynatable:preinit",this);for(model in R)if(R.hasOwnProperty(model)){var t=this[model]=new R[model](this,this.settings);t.initOnLoad()&&t.init()}this.$element.trigger("dynatable:init",this),(!this.settings.dataset.ajax||this.settings.dataset.ajax&&this.settings.dataset.ajaxOnLoad||this.settings.features.paginate)&&this.process()},P=function(e){var a={};if(this.$element.trigger("dynatable:beforeProcess",a),t.isEmptyObject(this.settings.dataset.queries)||(a[this.settings.params.queries]=this.settings.dataset.queries),this.processingIndicator.show(),this.settings.features.sort&&!t.isEmptyObject(this.settings.dataset.sorts)&&(a[this.settings.params.sorts]=this.settings.dataset.sorts),this.settings.features.paginate&&this.settings.dataset.page){var n=this.settings.dataset.page,r=this.settings.dataset.perPage;a[this.settings.params.page]=n,a[this.settings.params.perPage]=r,a[this.settings.params.offset]=(n-1)*r}if(this.settings.dataset.ajaxData&&t.extend(a,this.settings.dataset.ajaxData),this.settings.dataset.ajax){var s=this,i={type:s.settings.dataset.ajaxMethod,dataType:s.settings.dataset.ajaxDataType,data:a,error:function(){},success:function(t){s.$element.trigger("dynatable:ajax:success",t),s.records.updateFromJson(t),s.dom.update(),!e&&s.state.initOnLoad()&&s.state.push(a)},complete:function(){s.processingIndicator.hide()}};i.url=this.settings.dataset.ajaxUrl?this.settings.dataset.ajaxUrl:x.refreshQueryString(window.location.href,{},this.settings),null!==this.settings.dataset.ajaxCache&&(i.cache=this.settings.dataset.ajaxCache),t.ajax(i)}else this.records.resetOriginal(),this.queries.run(),this.settings.features.sort&&this.records.sort(),this.settings.features.paginate&&this.records.paginate(),this.dom.update(),this.processingIndicator.hide(),!e&&this.state.initOnLoad()&&this.state.push(a);this.$element.trigger("dynatable:afterProcess",a)},C={initOnLoad:function(){return!0},init:function(){}};for(model in R)if(R.hasOwnProperty(model)){var O=R[model];O.prototype=C}x=w.utility={normalizeText:function(t,e){return t=this.textTransform[e](t)},textTransform:{trimDash:function(t){return t.replace(/^\s+|\s+$/g,"").replace(/\s+/g,"-")},camelCase:function(t){return t=this.trimDash(t),t.replace(/(\-[a-zA-Z])/g,function(t){return t.toUpperCase().replace("-","")}).replace(/([A-Z])([A-Z]+)/g,function(t,e,a){return e+a.toLowerCase()}).replace(/^[A-Z]/,function(t){return t.toLowerCase()})},dashed:function(t){return t=this.trimDash(t),this.lowercase(t)},underscore:function(t){return t=this.trimDash(t),this.lowercase(t.replace(/(-)/g,"_"))},lowercase:function(t){return t.replace(/([A-Z])/g,function(t){return t.toLowerCase()})}},deserialize:function(e){if(!e)return{};"object"==typeof e&&(e=e.join("&"));for(var a={},n=e.split("&"),r=0;r<n.length;r++){var s,i,o=n[r].split("="),d=decodeURIComponent(o[0]);if(o[1]){for(s=decodeURIComponent(o[1].replace(/\+/g," "));i=d.match(/([^&=]+)\[([^&=]+)\]$/);){var u=s;d=i[1],s={},"]["==i[2].substr(i[2].length-2)?s[i[2].substr(0,i[2].length-2)]=[u]:s[i[2]]=u}"undefined"==typeof a[d]?a[d]="[]"!=d.substr(d.length-2)?s:[s]:"string"==typeof a[d]?a[d]=s:"object"==typeof a[d]?a[d]=t.extend({},a[d],s):a[d].push(s)}}return a},refreshQueryString:function(e,a,n){{var r,s=this,i=e.split("?");i.shift()}r=this.deserialize(e);for(h in n.params)if(n.params.hasOwnProperty(h)){var o=n.params[h];if(!n.features.sort&&"sorts"==h||!n.features.paginate&&s.anyMatch(h,["page","perPage","offset"],function(t,e){return t==e}))continue;if(("page"===h||"offset"===h)&&1===a.page){r[o]&&delete r[o];continue}if("perPage"===h&&a[o]==n.dataset.perPageDefault){r[o]&&delete r[o];continue}if("queries"==h&&a[o]){var d=n.inputs.queries||[],u=t.makeArray(d.map(function(){return t(this).attr("name")}));n.features.search&&u.push("search");for(var l=0,c=u.length;c>l;l++){var h=u[l];a[o][h]?("undefined"==typeof r[o]&&(r[o]={}),r[o][h]=a[o][h]):delete r[o][h]}continue}a[o]?r[o]=a[o]:delete r[o]}return decodeURI(t.param(r))},keysFromObject:function(t){var e=[];for(var a in t)e.push(a);return e},findObjectInArray:function(t,e){for(var a,n=this,r=0,s=t.length;s>r;r++){var i=t[r];if(n.allMatch(i,e,function(t,e,a){return t[e]==a})){a=i;break}}return a},allMatch:function(e,a,n){var r=!0,s=t.isArray(a);return t.each(a,function(t,a){var i=s?n(e,a):n(e,t,a);return i?void 0:r=!1}),r},anyMatch:function(e,a,n){var r=!1,s=t.isArray(a);return t.each(a,function(t,a){var i=s?n(e,a):n(e,t,a);return i?(r=!0,!1):void 0}),r},objectsEqual:function(t,e){for(attr in t)if(t.hasOwnProperty(attr)&&(!e.hasOwnProperty(attr)||t[attr]!==e[attr]))return!1;for(attr in e)if(e.hasOwnProperty(attr)&&!t.hasOwnProperty(attr))return!1;return!0},randomHash:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}},"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),t.dynatableSetup=function(t){b=v(t)},t.dynatable=function(e){t.fn.dynatable=function(a){return this.each(function(){t.data(this,"dynatable")||t.data(this,"dynatable",Object.create(e).init(this,a))})}},t.dynatable(w)}(jQuery);